# WorkoutAPI - ConfiguraÃ§Ã£o do Alembic

## ğŸ”„ MigraÃ§Ã£o Docker â†’ SQLite

Esta configuraÃ§Ã£o do Alembic foi adaptada para usar **SQLite** como substituto do **PostgreSQL** definido no `docker-compose.yml`.

### ğŸ“‹ MudanÃ§as Implementadas:

#### **ğŸ³ ConfiguraÃ§Ã£o Original (Docker Compose)**:
```yaml
services:
  db:
    image: postgres:16-alpine
    container_name: workout_db
    environment:
      POSTGRES_USER: workout
      POSTGRES_PASSWORD: workout
      POSTGRES_DB: workout
    ports:
      - "5432:5432"
```

#### **ğŸ—ƒï¸ ConfiguraÃ§Ã£o Atual (SQLite)**:
```ini
# alembic.ini
sqlalchemy.url = sqlite:///workoutapi/database/workout.db

# .env
DB_USER=workout          # Baseado em POSTGRES_USER
DB_PASSWORD=workout      # Baseado em POSTGRES_PASSWORD  
DB_NAME=workout          # Baseado em POSTGRES_DB
```

### ğŸ”§ Vantagens da MudanÃ§a:

| Aspecto | Docker/PostgreSQL | SQLite |
|---------|------------------|--------|
| **InstalaÃ§Ã£o** | Requer Docker | Nativo do Python |
| **ConfiguraÃ§Ã£o** | docker-compose.yml | Arquivo local |
| **Credenciais** | Container | Mesmas do docker-compose |
| **Performance** | Servidor dedicado | Arquivo local rÃ¡pido |
| **Desenvolvimento** | Complexo | Simples |
| **Portabilidade** | Dependente Docker | Funciona em qualquer lugar |

### ğŸ“‚ Estrutura de Arquivos:
```
WORKOUT_API/
â”œâ”€â”€ alembic/                    # MigraÃ§Ãµes do banco
â”‚   â”œâ”€â”€ env.py                 # ConfiguraÃ§Ã£o adaptada
â”‚   â”œâ”€â”€ versions/              # HistÃ³rico de migraÃ§Ãµes
â”‚   â””â”€â”€ alembic.ini           # URL do SQLite
â”œâ”€â”€ workoutapi/
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â””â”€â”€ database.py       # Modelos SQLAlchemy
â”‚   â””â”€â”€ .env                  # Credenciais do docker-compose
â””â”€â”€ workout.db                # Banco SQLite (criado automaticamente)
```

### ğŸš€ Comandos DisponÃ­veis:

```bash
# HistÃ³rico de migraÃ§Ãµes
workoutapi\Scripts\python.exe -m alembic history

# Criar nova migraÃ§Ã£o
workoutapi\Scripts\python.exe -m alembic revision --autogenerate -m "DescriÃ§Ã£o"

# Aplicar migraÃ§Ãµes
workoutapi\Scripts\python.exe -m alembic upgrade head

# Status atual
workoutapi\Scripts\python.exe -m alembic current
```

### ğŸ”‘ Credenciais Mantidas:
As credenciais definidas no `docker-compose.yml` foram preservadas:
- **Username**: `workout` (POSTGRES_USER)
- **Password**: `workout` (POSTGRES_PASSWORD)
- **Database**: `workout` (POSTGRES_DB)

### âœ… Resultado:
- âœ… Mesmo sistema de autenticaÃ§Ã£o
- âœ… Mesmas credenciais
- âœ… Funcionalidade completa
- âœ… Sem dependÃªncia do Docker
- âœ… Desenvolvimento mais Ã¡gil

**ConclusÃ£o**: SQLite substitui completamente o PostgreSQL mantendo a compatibilidade com as configuraÃ§Ãµes originais do docker-compose.yml.